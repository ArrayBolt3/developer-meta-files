== onion-grater ==

* https://github.com/Whonix/onion-grater
* [https://github.com/Whonix/onion-grater/blob/master/debian/control debian/control]
===  Whitelisting filter for dangerous Tor control protocol commands ===

Filters out Tor control protocol commands that are dangerous for anonymity
such as GETINFO ADDRESS using a whitelist. Acts as a proxy between the client
application and Tor.

For example it allows using Tor Browser's New Identity feature on Anonymity
Distribution Workstations, fixes Tor Browser's about:tor default homepage and
Tor Button status indicator without exposing commands that are dangerous for
anonymity.

This package is supposed to be installed on Anonymity Distributions.

It seamlessly integrates if the anon-ws-disable-stacked-tor package
is installed on a Anonymity Distribution Workstations. For example it then
allows running a unmodified Tor Browser Bundle from The Tor Project without
Tor over Tor and with functional New Identity and about:tor.

This control port filter is written in Python. The original Python code
was forked from the Tails version of control port filter.

This package is produced independently of, and carries no guarantee from,
The Tor Project.
=== /debian/onion-grater.postinst ===

* [https://github.com/Whonix/onion-grater/blob/master/debian/onion-grater.postinst /debian/onion-grater.postinst]
* <code>~/Whonix/packages/onion-grater/debian/onion-grater.postinst</code>

Creates user and group <code>onion-grater</code>.
=== /etc/apparmor.d/usr.lib.onion-grater ===

* [https://github.com/Whonix/onion-grater/blob/master/etc/apparmor.d/usr.lib.onion-grater /etc/apparmor.d/usr.lib.onion-grater]
* <code>~/Whonix/packages/onion-grater/etc/apparmor.d/usr.lib.onion-grater</code>

onion-grater apparmor profile
=== /etc/onion-grater-merger.d/30_whonix.yml ===

* [https://github.com/Whonix/onion-grater/blob/master/etc/onion-grater-merger.d/30_whonix.yml /etc/onion-grater-merger.d/30_whonix.yml]
* <code>~/Whonix/packages/onion-grater/etc/onion-grater-merger.d/30_whonix.yml</code>

Whonix onion-grater default configuration file.

TODO: would be cleaner to split this file and to move snippets to covered
applications sdwdate, whonixcheck and tb-starter.
=== /lib/systemd/system/onion-grater.service ===

* [https://github.com/Whonix/onion-grater/blob/master/lib/systemd/system/onion-grater.service /lib/systemd/system/onion-grater.service]
* <code>~/Whonix/packages/onion-grater/lib/systemd/system/onion-grater.service</code>

Runs <code>/usr/lib/onion-grater</code>.
=== /usr/lib/onion-grater ===

* [https://github.com/Whonix/onion-grater/blob/master/usr/lib/onion-grater /usr/lib/onion-grater]
* <code>~/Whonix/packages/onion-grater/usr/lib/onion-grater</code>

main script
=== /usr/lib/onion-grater-merger ===

* [https://github.com/Whonix/onion-grater/blob/master/usr/lib/onion-grater-merger /usr/lib/onion-grater-merger]
* <code>~/Whonix/packages/onion-grater/usr/lib/onion-grater-merger</code>

Processes files matching <code>/etc/onion-grater-merger.d/*.yml</code> and
<code>/usr/local/etc/onion-grater-merger.d/*.yml</code>.

Creates <code>/etc/onion-grater.d/30_autogenerated.yml</code>.

Only known use so far is by Whonix.
=== /usr/share/doc/onion-grater-merger/examples/40_bisq.yml ===

* [https://github.com/Whonix/onion-grater/blob/master/usr/share/doc/onion-grater-merger/examples/40_bisq.yml /usr/share/doc/onion-grater-merger/examples/40_bisq.yml]
* <code>~/Whonix/packages/onion-grater/usr/share/doc/onion-grater-merger/examples/40_bisq.yml</code>

Shipped but not enabled by default onion-grater profile.
=== /usr/share/doc/onion-grater-merger/examples/40_bitcoind.yml ===

* [https://github.com/Whonix/onion-grater/blob/master/usr/share/doc/onion-grater-merger/examples/40_bitcoind.yml /usr/share/doc/onion-grater-merger/examples/40_bitcoind.yml]
* <code>~/Whonix/packages/onion-grater/usr/share/doc/onion-grater-merger/examples/40_bitcoind.yml</code>

Shipped but not enabled by default onion-grater profile.
=== /usr/share/doc/onion-grater-merger/examples/40_onionshare.yml ===

* [https://github.com/Whonix/onion-grater/blob/master/usr/share/doc/onion-grater-merger/examples/40_onionshare.yml /usr/share/doc/onion-grater-merger/examples/40_onionshare.yml]
* <code>~/Whonix/packages/onion-grater/usr/share/doc/onion-grater-merger/examples/40_onionshare.yml</code>

Shipped but not enabled by default onion-grater profile.
=== /usr/share/doc/onion-grater-merger/examples/40_ricochet.yml ===

* [https://github.com/Whonix/onion-grater/blob/master/usr/share/doc/onion-grater-merger/examples/40_ricochet.yml /usr/share/doc/onion-grater-merger/examples/40_ricochet.yml]
* <code>~/Whonix/packages/onion-grater/usr/share/doc/onion-grater-merger/examples/40_ricochet.yml</code>

Shipped but not enabled by default onion-grater profile.
=== /usr/share/doc/onion-grater-merger/examples/40_zeronet.yml ===

* [https://github.com/Whonix/onion-grater/blob/master/usr/share/doc/onion-grater-merger/examples/40_zeronet.yml /usr/share/doc/onion-grater-merger/examples/40_zeronet.yml]
* <code>~/Whonix/packages/onion-grater/usr/share/doc/onion-grater-merger/examples/40_zeronet.yml</code>

Shipped but not enabled by default onion-grater profile.
